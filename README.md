# phpunit-cluster

# Установка

```
$ sudo npm install
```

# Клиент

Запуск приложения:
```
$ node client.js [options]
```

Список опций:

* `-u имя_пользователя`. По умолчанию: префикс startbase с временной меткой
* `-d адрес_сервера`. Указывается без протокола. По умолчанию: localhost
* `-p порт`. Только цифры. По умолчанию: 8099

Пример:

```
$ node client.js -u startbase -d dashboard.b2b-center.ru -p 8089
```

# Сервер

Запуск приложения:
```
$ node server.js [options]
```

Список опций:

* `-p порт`. Только цифры. По умолчанию: 8099

Пример:

```
$ node server.js -p 8089
```

HotKeys:

* `h` - показать хелп по доступным командам
* `c` - посмотреть текущий commit hash сервера.
* `o` - список пользователей в сети.
* `d` - статистика выполнения последнего пула задач.
* `u` - обновить репозиторий git и запустить цепочку событий
* `t` - показать оставшиеся задачи в текущем пуле
* `e` - очистка пула и остановка выполнения тестов клиентами


# Запуск

1. В `config.json` в настройке `parser.baseDirs` указать пути до папок с интересующими тестами
2. Создать БД `b2bcenter_cluster_test` командой `echo "CREATE DATABASE IF NOT EXISTS b2bcenter_cluster_test" | mysql -uroot`




